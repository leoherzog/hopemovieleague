<!DOCTYPE html>
<html lang="en">

<!--
                         -sdNmNNmy/`
                       .dMo.  :/.+mN+
                      oMh.   :MM+  oMh.
                    -mN/      +MM+  -dN+
                  `sMy`        dMMo   oMd.
                 :mm:          `mMM/   .dMo
               `yMs`            -MMM+    +Nd-
              /Nm-               sMMM+    .hMo
            .hMo                  yMMM/ .ydhmMd-
           +Nd.                   `mMMM/oMoysMMMo
         -dN+                      .NMMMNMMy./MyNd-
        oMh.                     -+hNMMMM+yNyyM:`yMo
      -mN/                   -+yNMMdo+MMMm``::`   /Nm-
    `sMNsosd:            .+yNMMms/`   /MMMh        `yMs
   :mm:sMMMM         ./ymMMNh+.        /MMMs         /Nm-
 `yMs `yMMMM`    ./ymMMMMMdyhhyso/:.-/+ oMMM/         `yMs`
-Nd- .mMMMMM.`/smMMMNy/.hMMMMMMMMMMMNy-  /MMN.          /Nm-
mm`  dMMMMMmmMMMMdo-   `dMMMMMMMMMMh`     /MMm.          .Mm
Mh   hMMMMMMMMMMMNNmmNMMMMMMMMMMMN/        +MMy           NM
yM-  `hMMMMMMMMMMMMMMMMMmmMMMMMd/`          /MM+         oMy
 sNy:` .+ydNMMMMMNdyo/-`  smho.              +h+      `/hMy
  `+hmmNNNNNNMMMmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmNNNho.
============== We bleed #F46A1F and #002244 ==============
-->

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="The unofficial Fantasy Movie League group for Hope College">
  <meta name="author" content="Leo Herzog | herzog.tech">
  <link rel="icon" type="image/x-icon" href="favicon.ico" />

  <title>Hope College Unofficial Fantasy Movie League</title>

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/js/bootstrap.min.js"></script>
  <script defer src="//pro.fontawesome.com/releases/v5.6.3/js/all.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.23/moment-timezone-with-data-2012-2022.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment-duration-format/2.2.2/moment-duration-format.min.js"></script>
  <link href="//cdnjs.cloudflare.com/ajax/libs/bootswatch/4.2.1/sandstone/bootstrap.min.css" rel="stylesheet">

  <style>
    @media screen and (min-width: 992px) {
        h1 {
          font-size: 8rem;
        }
    }

   .alert {
      padding: 12px 20px;
    }

    .alert-success {
      background-color: #5D812A; /* accessibility is important! */
    }

    #allcontent {
      margin-top: 8vh;
    }

    .container {
      margin-bottom: 8vh;
    }

    .btn-block {
      font-size: 110%;
    }

    #standingsButtons {
      width: 100%;
    }

    #lastWeeksStandings,
    #openStandingsInNewWindow {
      width: 50%;
    }
    </style>

  <!--[if lt IE 9]>
        <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129696293-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-129696293-1');
  </script>


</head>

<body>

  <div class="navbar navbar-expand-lg navbar-dark bg-primary" role="navigation">
    <a class="navbar-brand mx-auto" href="https://fantasymovieleague.com/league/35725/" target="_blank" style="cursor:default"><span class="fal fa-film-alt fa-fw"></span> Hope College Unofficial Fantasy Movie League</a>
  </div>

  <section id="allcontent" data-type="background">

    <!-- <div id="lastseasonwinner" class="container">
      <div class="alert alert-dismissible alert-success">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <h2><span class="far fa-medal fa-fw"></span> Congratulations @username!</h2>
        <h5>Winner of the 2019 Awards Season! <a href="https://fantasymovieleague.com/league/35725?contestId=1&periodId=4#league-entries" target="_blank">See the full results</a>.</h5>
        <h5>The Spring 2019 season is now open!</h5>
      </div>
    </div> -->

    <div id="intro" class="container">
      <div class="jumbotron">
        <h1 class="display-3">Join our league!</h1>
        <p class="lead">Fantasy Movie League is like Fantasy Football, but instead of managing a team of players, you manage a movie theater.</p>
        <p>
          <ul class="fa-ul lead">
            <li><span class="fa-li"><span class="fas fa-film"></span></span>You pick what movies are shown on your eight screens every week</li>
            <li><span class="fa-li"><span class="far fa-money-bill"></span></span>You have a limited weekly budget, so choose movies wisely</li>
            <li><span class="fa-li"><span class="fas fa-trophy-alt"></span></span>How well your movies do in the weekend box office determines your week's earnings!</li>
          </ul>
        </p>
        <p>
          <a class="btn btn-primary btn-lg btn-block" href="https://fantasymovieleague.com/league/35725/join?mp=1ef67efbb1457367392e3a10572cb748" target="_blank" role="button">Join the League! <span class="fas fa-external-link fa-fw"></span></a>
        </p>
      </div>
    </div>

    <div id="thisweek" class="container">
      <div class="card text-white bg-primary mb-3">
        <div class="card-header"><span class="far fa-calendar-alt fa-fw"></span> This Week</div>
        <div class="card-body">
          <h4 id="countdown" class="card-title">Checking...</h4>
          <div class="progress">
            <div id="countdown-bar" class="progress-bar progress-bar-striped " role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
          </div>
          <div id="action-button-container" class="mt-3" style="display:none">
            <a id="action-button" class="btn btn-lg btn-block" href="" target="_blank" role="button"></a>
          </div>
        </div>
      </div>
    </div>

    <div id="standings" class="container">
      <div class="card text-white bg-secondary mb-3">
        <div class="card-header"><span class="far fa-list-ol fa-fw"></span> This Season's Standings</div>
        <div class="card-body">
          <div class="alert alert-light alert-dismissible fade show">
            <h4 class="alert-heading">Join today!</h4>
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            This season may have already started, but you can still make an account. It's free, and fun!
          </div>
          <div class="embed-responsive embed-responsive-4by3">
            <iframe class="embed-responsive-item" src="https://fantasymovieleague.com/league/35725?contestId=1&periodId=4#league-entries"></iframe>
          </div>
          <div id="standingsButtons" class="btn-group" role="group">
            <a id="lastWeeksStandings" class="btn btn-primary" target="_blank" role="button"><span class="fas fa-arrow-to-left fa-fw"></span> Last Week's Results</a>
            <a id="openStandingsInNewWindow" class="btn btn-primary" href="https://fantasymovieleague.com/league/35725?contestId=1&periodId=4#league-entries" target="_blank" role="button">Open in New Window <span class="fas fa-external-link fa-fw"></span></a>
          </div>
        </div>
      </div>
    </div>

    <div id="faq" class="container">
      <div class="card bg-light mb-3">
        <div class="card-header"><span class="far fa-question-circle fa-fw"></span> FAQ</div>
        <div class="card-body">
          <h4 class="card-title">Who can join <a class="text-primary" href="https://fantasymovieleague.com/league/35725/" target="_blank">the Hope College league</a>?</h4>
          <p class="card-text">Anyone! Faculty, Staff, Students, Alumni, Parents, Friends, whoever. The "join" button above should let you in,
            but if you have trouble, search for the "Hope College" league. The password is <code>hopecollege</code>.
          </p>
          <hr class="my-4">
          <h4 class="card-title">What do I win?</h4>
          <p class="card-text">Glory? I'll definitely put your (appropriate) username and cinema name on this page. Maybe I'll come up with another prize too. I'm not sure yet.</p>
          <hr class="my-4">
          <h4 class="card-title">How much does it cost?</h4>
          <p class="card-text">It's free! An account with <a class="text-primary" href="https://fantasymovieleague.com/aboutus" target="_blank">Fantasy Movie League</a> is all you need to play.</p>
          <hr class="my-4">
          <h4 class="card-title">How do I make my picks?</h4>
          <div class="container mb-0">
            <div class="row">
              <div class="col-lg-6 mb-2 pl-0 align-self-center">
                <p class="card-text">Either use the website, <a class="text-primary" href="https://fantasymovieleague.com/league/35725" target="_blank">fantasymovieleague.com</a>, or download the mobile app:</p>
              </div>
              <div class="col-lg-2 mb-2">
                <a href="https://itunes.apple.com/us/app/fantasy-movie-league/id1089244568?mt=8" role="button">
                  <img alt="Download on the App Store" src="app-store.svg" />
                </a>
              </div>
              <div class="col-lg-2">
                <a href="https://play.google.com/store/apps/details?id=com.kinetoplay.fantasymovieleague" role="button">
                  <img alt="Get it on Google Play" src="google-play.svg" />
                </a>
              </div>
            </div>
          </div>
          <hr class="my-4">
          <h4 class="card-title">Where can I learn more about how to play?</h4>
          <p class="card-text">Start with <a class="text-primary" href="https://fantasymovieleague.com/howtoplay" target="_blank">the "How to Play" Guide at fantasymovieleague.com</a>.</p>
          <hr class="my-4">
          <h4 class="card-title">Who are you?</h4>
          <p class="card-text">I'm <a class="text-primary" href="https://hope.edu/directory/people/herzog-leo/" target="_blank">Leo Herzog '13</a>.
            I work at <a class="text-primary" href="https://hope.edu/cit" target="_blank">CIT</a> at Hope.
            I play Fantasy Movie League with my friends group and thought it would be fun to get a Hope league going.</p>
        </div>
      </div>
    </div>

  </section>

  <script>
    $(document).ready(function() {
      tick();
    });

    function tick() {
      console.time("Tick");
      var now = moment().tz('America/Detroit');
      var open = moment().tz('America/Detroit').day(1).hour(20).minute(0).second(0).millisecond(0); // next Monday at 8pm eastern
      var deadline = moment().tz('America/Detroit').day(5).hour(12).minute(0).second(0).millisecond(0); // next Friday at noon
      var previousDeadline = moment().tz('America/Detroit').day(-2).hour(12).minute(0).second(0).millisecond(0); // next Friday at noon
      var nextOpen = moment().tz('America/Detroit').day(8).hour(20).minute(0).second(0).millisecond(0); // next Monday at 8pm eastern    
      var firstWeekOfFMLEver = moment('2015-04-21');

      var lastWeeksStandingsUrl = "https://fantasymovieleague.com/league/35725?weekId=" + (now.diff(firstWeekOfFMLEver, 'weeks') - 1); // hope they don't change url schemes lol
      $('#lastWeeksStandings').attr('href', lastWeeksStandingsUrl);

      // console.log(open.format());
      // console.log(deadline.format());
      // console.log(previousDeadline.format());
      // console.log(nextOpen.format());

      if (now.isBetween(deadline, nextOpen)) { // if it's *right* after the deadline
        console.log("Choices are locked in");
        $('#countdown').html('<span class="far fa-hourglass-end fa-fw"></span> This week\'s choices are locked in! Stay tuned for the weekend results.');
        $('#countdown-bar').addClass('bg-success').removeClass('bg-warning progress-bar-animated').attr('aria-valuenow', 100).css('width', '100%');
        $('#action-button-container').hide();
      } else if (now.day() == "1" && now.hour() < 20) { // if it's Monday and they're expecting to make this week's choices
        console.log("This week hasn't opened yet. Starting soon.");
        $('#countdown').html('<span class="far fa-hourglass-start fa-fw"></span> This week\'s choices open at 8pm!');
        $('#countdown-bar').addClass('bg-success').removeClass('bg-warning progress-bar-animated').attr('aria-valuenow', 100).css('width', '100%');
        $('#action-button').attr("href", "https://fantasymovieleague.com/league/35725/").html('Check in with last weekend\'s estimates <span class="fas fa-external-link fa-fw"></span>').addClass("btn-success").removeClass("btn-warning");
        $('#action-button-container').show();
      } else if (now.isBetween(previousDeadline, open)) { // if it's during the weekend closed period
        console.log("Choices are locked in");
        $('#countdown').html('<span class="far fa-hourglass-end fa-fw"></span> This week\'s choices are locked in!');
        $('#countdown-bar').addClass('bg-success').removeClass('bg-warning progress-bar-animated').attr('aria-valuenow', 100).css('width', '100%');
        $('#action-button').attr("href", "https://fantasymovieleague.com/league/35725/").html('Check last weekend\'s estimates <span class="fas fa-external-link fa-fw"></span>').addClass("btn-success").removeClass("btn-warning");
        $('#action-button-container').show();
      } else { // during open period. show countdown.
        console.log("Counting down to deadline on Friday");
        var timeleft = moment.duration(deadline.diff(now));
        $('#countdown').html('<span class="far fa-hourglass-half fa-fw"></span> Deadline for your picks is in ' + timeleft.format({ "template": "d [days], h [hours], m [minutes] [and] s [seconds]", "trim": "large mid" }) + '!');
        var totalTimeOpenWindow = deadline.diff(open);
        var timeElapsed = now.diff(open);
        var percentageElapsed = (timeElapsed / totalTimeOpenWindow) * 100;
        $('#countdown-bar').addClass('bg-warning progress-bar-animated').removeClass('bg-success').attr('aria-valuenow', percentageElapsed).css('width', percentageElapsed + '%');
        var picksUrl = "https://fantasymovieleague.com/league/35725?weekId=" + now.diff(firstWeekOfFMLEver, 'weeks');
        $('#action-button').attr("href", picksUrl).html('Make your picks now <span class="fas fa-external-link fa-fw"></span>').addClass("btn-warning").removeClass("btn-success");
        $('#action-button-container').show();
      }

      console.timeEnd("Tick");
      setTimeout(tick, 1000);
    }
  </script>

</body>

</html>